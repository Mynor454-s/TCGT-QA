{
  "project": "Tarjeta Digital",
  "version": "1.0.0",
  "lastUpdated": "2025-12-18",
  "description": "Test Matrix para organizar y escalar casos de prueba del flujo de onboarding",
  
  "execution": {
    "smoke": {
      "description": "Tests críticos - Ejecutar en cada PR",
      "tags": ["@smoke", "@P0"],
      "estimatedTime": "10min",
      "command": "npx playwright test --grep \"@smoke\""
    },
    "regression": {
      "description": "Tests importantes - Ejecutar nightly",
      "tags": ["@smoke", "@P0", "@P1"],
      "estimatedTime": "45min",
      "command": "npx playwright test --grep \"@P0|@P1\""
    },
    "full": {
      "description": "Suite completa - Ejecutar semanalmente",
      "tags": ["@P0", "@P1", "@P2", "@P3"],
      "estimatedTime": "120min",
      "command": "npx playwright test"
    }
  },

  "priorities": {
    "P0": {
      "name": "Critical",
      "description": "Bloquea producción - Happy paths principales",
      "target": "100% automatizado"
    },
    "P1": {
      "name": "High",
      "description": "Funcionalidad importante - Flujos alternativos",
      "target": "80% automatizado"
    },
    "P2": {
      "name": "Medium",
      "description": "Validaciones y edge cases",
      "target": "50% automatizado"
    },
    "P3": {
      "name": "Low",
      "description": "Casos raros o poco frecuentes",
      "target": "20% automatizado"
    }
  },

  "scenarios": {
    "e2e-flows": {
      "description": "Flujos completos de extremo a extremo",
      "total": 2,
      "implemented": 2,
      "scenarios": [
        {
          "id": "E2E-001",
          "name": "Flujo completo B2B - Cliente nuevo exitoso",
          "priority": "P0",
          "file": "tests/flows/happypath/flujoCompletoClienteMatrixDriven.spec.ts",
          "dataProvider": "data/data_new_client.json:*",
          "tags": ["@smoke", "@e2e", "@critical", "@P0", "@E2E-001", "@B2B"],
          "estimatedTime": "3min",
          "browsers": ["chrome", "firefox"],
          "status": "implemented",
          "lastRun": "2025-12-18",
          "notes": "Test principal B2B - Cubre todo el flujo happy path. Usa * para ejecutar con todos los clientes del archivo"
        },
        {
          "id": "E2E-B2C-001",
          "name": "Flujo completo B2C - Cliente comercio exitoso",
          "priority": "P0",
          "file": "tests/flows/happypath/B2C/flujoCompletoB2CClienteMatrixDriven.spec.ts",
          "dataProvider": "data/data_new_client.json:Marcos",
          "tags": ["@smoke", "@e2e", "@critical", "@P0", "@E2E-B2C-001", "@B2C"],
          "estimatedTime": "2min",
          "browsers": ["chrome"],
          "status": "implemented",
          "lastRun": "2026-01-22",
          "notes": "Test principal B2C - Login comercio, formulario datos generales y onboarding biométrico"
        }
      ]
    },

    "validations": {
      "description": "Validaciones de campos y formularios (data-driven)",
      "total": 2,
      "implemented": 2,
      "scenarios": [
        {
          "id": "VAL-UI-B2C-001",
          "name": "Validaciones UI - Login B2C",
          "priority": "P1",
          "file": "tests/validations/ui/validateLabelsB2C.spec.ts",
          "dataProvider": "data/ui-expected-values.json",
          "cases": 6,
          "tags": ["@validation", "@ui", "@B2C", "@P1"],
          "estimatedTime": "30s",
          "status": "implemented",
          "lastRun": "2026-01-23",
          "validations": [
            "Label campo Usuario",
            "Placeholder campo Usuario",
            "Label campo Contraseña",
            "Placeholder campo Contraseña",
            "Texto botón Login",
            "Mensaje error - Usuario requerido",
            "Mensaje error - Contraseña requerida",
            "Mensaje error - Usuario formato inválido"
          ],
          "notes": "Valida labels, placeholders y mensajes de error del formulario de login B2C"
        },
        {
          "id": "VAL-UI-DPI-001",
          "name": "Validaciones UI - DPI B2C",
          "priority": "P1",
          "file": "tests/validations/ui/validateDpiB2C.spec.ts",
          "dataProvider": "data/ui-expected-values.json",
          "cases": 3,
          "tags": ["@validation", "@ui", "@B2C", "@dpi", "@P1"],
          "estimatedTime": "45s",
          "status": "implemented",
          "lastRun": "2026-01-23",
          "validations": [
            "Label campo DPI",
            "Placeholder campo DPI",
            "Mensaje error - DPI requerido",
            "Mensaje error - DPI formato inválido"
          ],
          "notes": "Valida labels, placeholders y mensajes de error del campo DPI en nueva solicitud B2C"
        }
      ]
    }
  },

  "summary": {
    "totalScenarios": 4,
    "implemented": 4,
    "pending": 0,
    "byPriority": {
      "P0": 2,
      "P1": 2,
      "P2": 0,
      "P3": 0
    },
    "byType": {
      "e2e-flows": 2,
      "validations": 2
    },
    "estimatedTimes": {
      "smoke": "5.5 min (P0 only)",
      "regression": "6.75 min (P0 + P1)",
      "full": "6.75 min (all scenarios)"
    }
  },

  "roadmap": {
    "completed": {
      "name": "Fase Inicial - Completada",
      "goals": [
        "✅ Crear fixtures y page objects",
        "✅ Implementar flujos E2E B2B y B2C",
        "✅ Configurar arquitectura data-driven con test-matrix",
        "✅ Implementar validaciones UI para Login B2C"
      ],
      "scenarios": ["E2E-001", "E2E-B2C-001", "VAL-UI-B2C-001"]
    },
    "nextSteps": {
      "name": "Próximos pasos sugeridos",
      "options": [
        "Expandir validaciones UI a otras pantallas (DPI, Formulario)",
        "Implementar validaciones de campos (DPI, Email, Teléfono)",
        "Crear flujos alternativos (TCJ, múltiples ingresos)",
        "Agregar tests de componentes (Footer, Links)"
      ]
    }
  }
}

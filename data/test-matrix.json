{
  "project": "Tarjeta Digital",
  "version": "1.0.0",
  "lastUpdated": "2025-12-18",
  "description": "Test Matrix para organizar y escalar casos de prueba del flujo de onboarding",
  
  "execution": {
    "smoke": {
      "description": "Tests críticos - Ejecutar en cada PR",
      "tags": ["@smoke", "@P0"],
      "estimatedTime": "10min",
      "command": "npx playwright test --grep \"@smoke\""
    },
    "regression": {
      "description": "Tests importantes - Ejecutar nightly",
      "tags": ["@smoke", "@P0", "@P1"],
      "estimatedTime": "45min",
      "command": "npx playwright test --grep \"@P0|@P1\""
    },
    "full": {
      "description": "Suite completa - Ejecutar semanalmente",
      "tags": ["@P0", "@P1", "@P2", "@P3"],
      "estimatedTime": "120min",
      "command": "npx playwright test"
    }
  },

  "priorities": {
    "P0": {
      "name": "Critical",
      "description": "Bloquea producción - Happy paths principales",
      "target": "100% automatizado"
    },
    "P1": {
      "name": "High",
      "description": "Funcionalidad importante - Flujos alternativos",
      "target": "80% automatizado"
    },
    "P2": {
      "name": "Medium",
      "description": "Validaciones y edge cases",
      "target": "50% automatizado"
    },
    "P3": {
      "name": "Low",
      "description": "Casos raros o poco frecuentes",
      "target": "20% automatizado"
    }
  },

  "scenarios": {
    "e2e-flows": {
      "description": "Flujos completos de extremo a extremo",
      "total": 3,
      "implemented": 1,
      "scenarios": [
        {
          "id": "E2E-001",
          "name": "Flujo completo - Cliente nuevo exitoso",
          "priority": "P0",
          "file": "tests/flows/happypath/flujoCompletoCliente.spec.ts",
          "dataProvider": "data/data_new_client.json:cliente1",
          "tags": ["@smoke", "@e2e", "@critical", "@P0"],
          "estimatedTime": "3min",
          "browsers": ["chrome", "firefox"],
          "status": "implemented",
          "lastRun": "2025-12-18",
          "notes": "Test principal - Cubre todo el flujo happy path"
        },
        {
          "id": "E2E-002",
          "name": "Flujo completo - Cliente con múltiples ingresos",
          "priority": "P1",
          "file": "tests/flows/alternative/flujoMultiplesIngresos.spec.ts",
          "dataProvider": "data/clients/multiple-income.json",
          "tags": ["@e2e", "@alternative", "@P1"],
          "estimatedTime": "4min",
          "browsers": ["chrome"],
          "status": "pending",
          "notes": "Validar flujo con dependencia + negocio + otros ingresos"
        },
        {
          "id": "E2E-003",
          "name": "Flujo completo - Sin personalización de tarjeta",
          "priority": "P2",
          "file": "tests/flows/alternative/flujoSinPersonalizacion.spec.ts",
          "dataProvider": "data/clients/no-customization.json",
          "tags": ["@e2e", "@alternative", "@P2"],
          "estimatedTime": "2.5min",
          "browsers": ["chrome"],
          "status": "pending",
          "notes": "Usuario omite paso de personalización"
        }
      ]
    },

    "validations": {
      "description": "Validaciones de campos y formularios (data-driven)",
      "total": 8,
      "implemented": 0,
      "scenarios": [
        {
          "id": "VAL-001",
          "name": "Validaciones de DPI",
          "priority": "P0",
          "file": "tests/validations/datosGenerales/dpiValidation.spec.ts",
          "dataProvider": "data/validations/dpi-validations.json",
          "cases": 5,
          "tags": ["@validation", "@dpi", "@P0"],
          "estimatedTime": "1min",
          "status": "pending",
          "validations": [
            "Campo vacío",
            "Menos de 13 dígitos",
            "Con letras",
            "Con caracteres especiales",
            "Formato válido"
          ]
        },
        {
          "id": "VAL-002",
          "name": "Validaciones de Email",
          "priority": "P0",
          "file": "tests/validations/datosGenerales/emailValidation.spec.ts",
          "dataProvider": "data/validations/email-validations.json",
          "cases": 4,
          "tags": ["@validation", "@email", "@P0"],
          "estimatedTime": "1min",
          "status": "pending",
          "validations": [
            "Campo vacío",
            "Sin @",
            "Sin dominio",
            "Formato válido"
          ]
        },
        {
          "id": "VAL-003",
          "name": "Validaciones de Teléfono",
          "priority": "P1",
          "file": "tests/validations/datosGenerales/telefonoValidation.spec.ts",
          "dataProvider": "data/validations/telefono-validations.json",
          "cases": 4,
          "tags": ["@validation", "@telefono", "@P1"],
          "estimatedTime": "1min",
          "status": "pending"
        },
        {
          "id": "VAL-004",
          "name": "Validaciones de NIT",
          "priority": "P1",
          "file": "tests/validations/datosGenerales/nitValidation.spec.ts",
          "dataProvider": "data/validations/nit-validations.json",
          "cases": 3,
          "tags": ["@validation", "@nit", "@P1"],
          "estimatedTime": "30s",
          "status": "pending"
        }
      ]
    },

    "economic-combinations": {
      "description": "Combinaciones de fuentes de ingresos",
      "total": 7,
      "implemented": 0,
      "scenarios": [
        {
          "id": "EC-001",
          "name": "Solo relación de dependencia",
          "priority": "P0",
          "file": "tests/integration/economicData/incomeSourcesCombinations.spec.ts",
          "config": {
            "employmentRelationship": true,
            "ownBusiness": false,
            "otherIncome": false
          },
          "dataProvider": "data/economic-sources.json:employment",
          "tags": ["@income", "@employment", "@P0"],
          "status": "pending"
        },
        {
          "id": "EC-002",
          "name": "Solo negocio propio",
          "priority": "P0",
          "file": "tests/integration/economicData/incomeSourcesCombinations.spec.ts",
          "config": {
            "employmentRelationship": false,
            "ownBusiness": true,
            "otherIncome": false
          },
          "dataProvider": "data/economic-sources.json:business",
          "tags": ["@income", "@business", "@P0"],
          "status": "pending"
        },
        {
          "id": "EC-003",
          "name": "Solo otros ingresos",
          "priority": "P1",
          "file": "tests/integration/economicData/incomeSourcesCombinations.spec.ts",
          "config": {
            "employmentRelationship": false,
            "ownBusiness": false,
            "otherIncome": true
          },
          "dataProvider": "data/economic-sources.json:other",
          "tags": ["@income", "@other", "@P1"],
          "status": "pending"
        }
      ]
    },

    "component-tests": {
      "description": "Tests de componentes reutilizables",
      "total": 2,
      "implemented": 0,
      "scenarios": [
        {
          "id": "COMP-001",
          "name": "Footer visible en todas las páginas",
          "priority": "P0",
          "file": "tests/components/footer/footerVisibility.spec.ts",
          "tags": ["@component", "@footer", "@P0"],
          "status": "pending",
          "notes": "Validar presencia del footer en todas las pantallas del flujo"
        },
        {
          "id": "COMP-002",
          "name": "Link términos abre en nueva pestaña",
          "priority": "P1",
          "file": "tests/components/footer/termsLinkNewTab.spec.ts",
          "tags": ["@component", "@footer", "@P1"],
          "status": "pending",
          "notes": "Validar que términos y condiciones se abre en nueva pestaña"
        }
      ]
    }
  },

  "summary": {
    "totalScenarios": 20,
    "implemented": 1,
    "pending": 19,
    "byPriority": {
      "P0": 7,
      "P1": 8,
      "P2": 5,
      "P3": 0
    },
    "byType": {
      "e2e-flows": 3,
      "validations": 8,
      "economic-combinations": 7,
      "component-tests": 2
    },
    "estimatedTimes": {
      "smoke": "10 min (P0 only)",
      "regression": "45 min (P0 + P1)",
      "full": "120 min (all scenarios)"
    }
  },

  "roadmap": {
    "phase1": {
      "name": "Fundación (Semana 1-2)",
      "goals": [
        "Crear fixtures y helpers",
        "Implementar 3 tests de validaciones P0",
        "Refactorizar test actual con fixtures"
      ],
      "scenarios": ["VAL-001", "VAL-002", "COMP-001"]
    },
    "phase2": {
      "name": "Expansión (Semana 3-4)",
      "goals": [
        "Implementar combinaciones económicas P0",
        "Agregar tests de validaciones P1",
        "Crear primer flujo alternativo"
      ],
      "scenarios": ["EC-001", "EC-002", "E2E-002", "VAL-003", "VAL-004"]
    },
    "phase3": {
      "name": "Consolidación (Semana 5+)",
      "goals": [
        "Completar P2 scenarios",
        "Configurar CI/CD",
        "Documentación completa"
      ]
    }
  }
}
